this is code for demo2 branch